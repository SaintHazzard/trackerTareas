#:import RecycleView kivy.uix.recycleview.RecycleView
#:import Factory kivy.factory.Factory
#:import RecycleBoxLayout kivy.uix.recycleboxlayout.RecycleBoxLayout

<MainView>:
    orientation: 'vertical'
    padding: 10
    spacing: 10
    rv: rv
    input_task: input_task
    input_description: input_description

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: None
        height: dp(50)  
        spacing: 10

        TextInput:
            id: input_task
            hint_text: "Titulo de la tarea"
            multiline: False
            size_hint_x: 0.2
            size_hint_y: 1
        TextInput:
            id: input_description
            hint_text: "Descripcion tarea"
            multiline: False
            size_hint_x: 0.4
            size_hint_y: 1
        Button:
            text: "Agregar"
            size_hint_x: 0.3
            size_hint_y: 1
            on_press: root.add_task()

    RecycleView:
        id: rv
        viewclass: 'TaskListItem'
        data: []
        scroll_type:['bars', 'content']
        bar_width: 10
        RecycleBoxLayout:
            default_size: None, dp(48)
            default_size_hint: 1, None
            size_hint_y: None
            orientation: 'vertical'
            height: self.minimum_height
    
    AnchorLayout:  # Botones centrados en la parte inferior
        size_hint_y: None
        height: dp(60)

        BoxLayout:
            size_hint: None, None
            size: dp(200), dp(50)
            spacing: dp(10)

            Button:
                text: "Importar"
                on_press: root.import_data()

            Button:
                text: "Exportar"
                on_press: root.export_data()
